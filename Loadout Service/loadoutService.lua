local Players = game:GetService("Players")


local function findHierarchyRank(player)
				if player:GetRankInGroup(14253378) >= 1 then
					return 'hv', 14253378
				elseif player:GetRankInGroup(14252669) >= 1 then
					return 'ig', 14252669
				elseif player:GetRankInGroup(14252305) >= 1 then
					return 'inq', 14252305
				elseif player:GetRankInGroup(14252288) >= 1 then
					return 'pt', 14252288
				elseif player:GetRankInGroup(14252271) >=1 then
					return '501st', 14252271
				elseif player:GetRankInGroup(14252276) >= 1 then
					return 'dt', 14252276
				elseif player:GetRankInGroup(14252269) >= 1 then
					return 'isb', 14252269
				elseif player:GetRankInGroup(14252273) >= 1 then
					return 'st', 14252273
				elseif player:GetRankInGroup(14252325) >= 1 then
					return 'stc', 14252325
				elseif player:GetRankInGroup(14255025) >= 1 then
					return 'raf', 14255025
				end
end

local function addToBackpack(player, toolName)
	local playerName = player.Name
	local tool = game.ServerStorage:FindFirstChild(toolName)
	tool:Clone().Parent = player.Backpack
end
--———————————No optimizations?———————————
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--?????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--—————————————————————————————
				local function hvLoadout(player, rank)
					if rank >= 1 and rank <= 3 then
						addToBackpack(player, 'DC-15S')
					elseif rank >= 4 and rank <= 5 then
						addToBackpack(player, 'Lightsaber')
					elseif rank == 6 then
						addToBackpack(player, 'DualLightsabers')
					elseif rank == 7 then
						addToBackpack(player, 'Lightsaber')
					elseif rank >= 9 and rank <= 10 then
						addToBackpack(player, 'E-11D')
					elseif rank == 13 then
						addToBackpack(player, 'VadersLightsaber')
					elseif rank == 14 then
						addToBackpack(player, 'PalpatinesLightsaber')
					end
				end

				local function igLoadout(player, rank)
					if rank >= 1 and rank <= 15 then
						addToBackpack(player, 'ImperialSaberStaff')
					end
				end

				local function inqLoadout(player, rank)
					if rank >= 1 and rank <= 10 then
						addToBackpack(player, 'InquisitorLightsaber')
					elseif rank == 11 then
						addToBackpack(player, 'BackhandLightsaber')
					end
				end

				local function ptLoadout(player, rank)
					if rank >= 1 and rank <= 6 then
						addToBackpack(player, 'E-11D')
					end
				end

				local function i501stLoadout(player, rank)
					if rank >= 1 and rank <= 6 then
						addToBackpack(player, 'E-11D')
					elseif rank >= 7 and rank <= 10 then
						addToBackpack(player, 'E-11D')
						addToBackpack(player, 'Z-6"')
					end
				end

				local function dtLoadout(player, rank)
					if rank >= 1 and rank <= 6 then
						addToBackpack(player, 'E-11D')
					elseif rank >= 7 and rank <= 10 then
						addToBackpack(player, 'E-11D')
						addToBackpack(player, 'Z-6')
					elseif rank >= 11 and rank <= 12 then
						addToBackpack(player, 'E-11D')	
					end
				end

				local function isbLoadout(player, rank)
					if rank >= 1 and rank <= 11 then
						addToBackpack(player, 'DC-15S')
					end
				end

				local function stLoadout(player, rank)
					if rank >= 1 and rank <= 7 then
						addToBackpack(player, 'E-11')
					elseif rank >= 8 and rank <= 11 then
						addToBackpack(player, 'E-11')
						addToBackpack(player, 'Z-6')
					end
				end

				local function stcLoadout(player, rank)
					if rank >= 2 and rank <= 13 then
						addToBackpack(player, 'E-11')
					elseif rank >= 15 and rank <= 18 then
						addToBackpack(player, 'DC-15S')
					end
				end

				local function rafLoadout(player, rank)
					if rank >= 1 and rank <= 18 then
						addToBackpack(player, 'E-11')
					elseif rank >= 19 and rank <= 21 then
						addToBackpack(player, 'DC-15S')
					end
				end

local function findLoadout(player)
	local player = player
	local group, groupID = findHierarchyRank(player) --str, int
	local rank =player:GetRankInGroup(groupID) --int
	if group == 'hv' then
		hvLoadout(player, rank)
	elseif group == 'ig' then
		igLoadout(player, rank)
	elseif group == 'inq' then
		inqLoadout(player, rank)
	elseif group == 'pt' then
		ptLoadout(player, rank)
	elseif group == '501st' then
		i501stLoadout(player, rank)
	elseif group == 'dt' then
		dtLoadout(player, rank)
	elseif group == 'isb' then
		isbLoadout(player, rank)
	elseif group == 'st' then
		stLoadout(player, rank)
	elseif group == 'stc' then
		stcLoadout(player, rank)
	elseif group == 'raf' then
		rafLoadout(player, rank)
	end
end

local function onCharacterAdded(character)
	local player = Players:GetPlayerFromCharacter(character)
	findLoadout(player)
end

local function onPlayerAdded(player)
	player.CharacterAdded:Connect(onCharacterAdded)
end

Players.PlayerAdded:Connect(onPlayerAdded)

--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--??????????????????????????????
--?????????????????????????????